# 99-custom-performance.conf
# Custom kernel tuning for security and performance
# Deployed by: security_hardening.sh -> /etc/sysctl.d/

# ---- Network Performance ----
net.core.somaxconn = 65535
net.core.netdev_max_backlog = 5000
net.ipv4.tcp_max_syn_backlog = 8192
net.ipv4.tcp_fin_timeout = 15
net.ipv4.tcp_keepalive_time = 300

# ---- Memory Management ----
vm.swappiness = 10
vm.dirty_ratio = 15
vm.dirty_background_ratio = 5

# ---- Filesystem ----
fs.file-max = 2097152

# ---- Security ----
kernel.dmesg_restrict = 1
kernel.kptr_restrict = 2
net.ipv4.conf.all.rp_filter = 1
net.ipv4.conf.default.rp_filter = 1
net.ipv4.icmp_echo_ignore_broadcasts = 1
net.ipv4.conf.all.accept_redirects = 0
net.ipv4.conf.all.send_redirects = 0
net.ipv4.conf.all.accept_source_route = 0
